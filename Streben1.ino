#include<stdlib.h>
#include<TimerOne.h>

int data[500]={-77,-72,-71,-67,-64,-59,-54,-54,-57,-62,-67,-71,-77,-82,-86,-87,-86,-82,-83,-82,-78,-76,-74,-70,-66,-63,-61,-60,-61,-59,-57,-54,-50,-48,-45,-45,-44,-40,-38,-38,-36,-34,-31,-30,-28,-25,-21,-16,-13,-8,-3,-1,0,0,3,5,7,9,11,15,18,23,28,35,41,45,49,53,57,61,64,65,66,66,67,65,61,60,57,54,53,49,45,43,41,39,39,36,28,20,15,9,1,-2,-6,-12,-17,-21,-27,-30,-33,-36,-38,-40,-41,-43,-43,-47,-47,-47,-50,-55,-60,-62,-64,-66,-66,-69,-69,-69,-68,-68,-65,-63,-60,-59,-58,-56,-56,-55,-54,-54,-53,-54,-54,-53,-54,-57,-59,-60,-61,-63,-63,-64,-65,-66,-68,-71,-70,-67,-64,-65,-64,-65,-64,-65,-65,-66,-67,-67,-67,-66,-64,-60,-59,-58,-58,-55,-53,-52,-52,-54,-56,-57,-59,-58,-55,-54,-53,-53,-57,-62,-62,-60,-60,-60,-61,-63,-64,-66,-69,-69,-69,-67,-67,-66,-65,-66,-63,-61,-57,-52,-53,-52,-53,-54,-54,-55,-53,-51,-51,-52,-52,-51,-51,-51,-54,-56,-60,-59,-60,-60,-57,-54,-51,-50,-48,-49,-48,-45,-46,-46,-49,-52,-55,-55,-57,-60,-62,-62,-65,-66,-65,-66,-66,-63,-61,-62,-61,-62,-62,-59,-56,-53,-53,-56,-57,-59,-58,-56,-56,-55,-53,-50,-47,-45,-43,-46,-48,-50,-54,-61,-65,-66,-67,-64,-61,-59,-57,-53,-48,-46,-46,-47,-51,-54,-57,-61,-64,-66,-67,-67,-62,-62,-63,-60,-58,-56,-55,-53,-52,-51,-48,-45,-41,-41,-45,-48,-50,-54,-57,-58,-58,-61,-64,-64,-65,-62,-58,-57,-55,-58,-59,-60,-62,-63,-65,-68,-66,-65,-66,-63,-61,-58,-57,-57,-56,-56,-56,-57,-60,-61,-63,-63,-61,-60,-58,-57,-55,-56,-55,-54,-55,-54,-54,-53,-51,-50,-47,-44,-41,-39,-36,-37,-37,-38,-41,-45,-50,-54,-58,-59,-61,-62,-62,-60,-58,-54,-49,-44,-40,-35,-29,-25,-24,-23,-26,-29,-29,-29,-30,-29,-27,-26,-21,-16,-13,-12,-10,-10,-8,-8,-9,-9,-8,-7,-7,-3,-2,-5,-8,-11,-15,-21,-26,-32,-37,-41,-42,-44,-44,-45,-45,-45,-46,-47,-49,-48,-49,-52,-52,-51,-53,-54,-53,-52,-48,-46,-47,-48,-51,-53,-55,-56,-55,-56,-57,-59,-62,-63,-63,-63,-63,-64,-65,-64,-62,-60,-56,-49,-35,-19,5,33,63,93,121,152,175,190,196,195,187,176,159,139,114,93,73,57,47,40,33,27,18,11,3,-2,-9,-14,-17,-20,-22,-25,-27,-25,-23,-22,-25,-31};
int pointer=0, i, j, packet[10],a=0,byt[5]={0,0,0,0,0};
int temp[10];
void setup() {
  
  Timer1.initialize(20000); //Half Sec.
  Timer1.attachInterrupt(send_data);
  Serial.begin(115200);
}
int light=0;
void send_data(void)
{
//  byt=0;
  if(pointer==500)
    pointer=0;
  
  for(i=0;i<10;i++)
  {
    temp[i]=data[pointer++];    
  }
  packet[0]=temp[0];
  for(j=1;j<10;j++)
  {
    packet[j]=temp[j-1]-temp[j];
  }
  Serial.write(0x80);
  //Serial.println(byt);
  Serial.write(temp[0] & 0xFF);
  Serial.write(temp[0]>>8);
  for(i=0;i<22;i++)
    Serial.print(a);
  //Serial.println(byt);
  for(i=1;i<10;i++)
  {
    Serial.write(temp[i]);
    for(j=0;j<11;j++)
    {
      Serial.print(a);
    }
  }
   
}

void loop()
{
  if(light==1)
  {
    digitalWrite(13,LOW);
    light=0;
  }
  else
  {
    digitalWrite(13,HIGH);
    light=1;
  }
  delay(1000);
}
